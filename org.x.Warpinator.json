{
   "app-id": "org.x.Warpinator",
   "runtime": "org.gnome.Platform",
   "runtime-version": "43",
   "sdk": "org.gnome.Sdk",
   "sdk-extensions": [
        "org.freedesktop.Sdk.Extension.rust-stable"
    ],
   "command": "warpinator",
   "finish-args": [
      "--share=ipc",
      "--socket=fallback-x11",
      "--socket=wayland",
      "--device=dri",
      "--share=network",
      "--filesystem=home",
      "--filesystem=/media",
      "--own-name=org.x.StatusIcon.warpinator",
      "--talk-name=org.x.StatusIconMonitor.*",
      "--talk-name=org.freedesktop.FileManager1"
   ],
   "modules": [
      {
         "name": "warpinator",
         "buildsystem": "meson",
         "config-opts": [
            "-Dinclude-firewall-mod=false",
            "-Dflatpak-build=true"
         ],
         "sources": [
            {
               "type": "git",
               "url": "https://github.com/linuxmint/warpinator.git",
               "tag": "1.2.14",
               "commit": "998983af10e0df6097640af34fd1d4ac96a113fc"
            }
         ],
         "modules": [
         {
               "name":"protobuf",
               "cleanup":[
                  "protoc",
                  "/bin",
                  "/doc",
                  "/lib/plugins"
               ],
               "sources":[
                  {
                     "type":"archive",
                     "url":"https://github.com/protocolbuffers/protobuf/releases/download/v21.7/protobuf-cpp-3.21.7.tar.gz",
                     "sha256":"70de993af0b4f2ddacce59e62ba6d7b7e48faf48beb1b0d5f1ac0e1fb0a68423"
                  }
               ]
            },
            "python3-modules.json",
            {
               "name": "python-xapp",
               "buildsystem": "simple",
               "build-commands": [
                  "python3 setup.py build",
                  "python3 setup.py install --prefix=/app"
               ],
               "sources": [
                  {
                     "type": "git",
                     "url": "https://github.com/linuxmint/python3-xapp.git",
                     "tag": "2.2.2",
                     "commit": "ae2fb1208c69f822aa9ece0a9afde51c56ab2e6f"
                  }
               ]
            },
            {
               "name": "xapps",
               "buildsystem": "meson",
               "config-opts": [
                  "-Dapp-lib-only=true",
                  "-Dpy-overrides-dir=/app/lib/python3.10/site-packages/gi/overrides"
               ],
               "sources": [
                  {
                     "type": "git",
                     "url": "https://github.com/linuxmint/xapp.git",
                     "tag": "2.2.15",
                     "commit": "493bcde1dacaca0cdcef8a789a8e5c42e9f13792"
                  }
               ]
            }
         ]
      }
   ],
   "cleanup": [
      "/bin/wheel",
      "/include",
      "/lib/debug/source",
      "/lib/pkgconfig",
      "/share/gir-1.0",
      "/share/vala",
      "/share/icons/hicolor/icon-theme.cache"
   ]
}
